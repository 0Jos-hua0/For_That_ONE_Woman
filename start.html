<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For That One Woman</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=Great+Vibes&family=Cormorant+Garamond:wght@300;400;600;700&display=swap');

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background: url('assets/MSA.png') no-repeat center center fixed;
            background-size: cover;
            font-family: 'Cormorant Garamond', serif;
            overflow: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: inherit;
            filter: blur(8px);
            z-index: -1;
            overflow: hidden;
        }

        .container {
            text-align: center;
            background: transparent;
            padding: 2rem;
            border-radius: 24px;
            box-shadow: none;
            width: 90%;
            max-width: 520px;
            color: #f5e6d3;
            border: none;
        }

        h1 {
            font-family: 'Great Vibes', cursive;
            color: #FFEF5F;
            margin-bottom: 0.75rem;
            font-size: 3rem;
            text-shadow: 0 0 16px #EEA727,
                0 0 32px #FFEF5F,
                0 0 48px #EEA727;
            letter-spacing: 2px;
        }

        #special-text {
            color: #FFEF5F;
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: 1.3rem;
            margin-bottom: 0.75rem;
            text-shadow: 0 0 18px #EEA727,
                0 0 32px #FFEF5F,
                0 0 50px #EEA727;
        }

        #question {
            font-size: 1.2rem;
            margin-bottom: 1.75rem;
        }

        .buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            position: relative;
        }

        button {
            padding: 10px 22px;
            font-size: 1.05rem;
            border-radius: 999px;
            border: 2px solid #FFEF5F;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
            font-family: 'Playfair Display', serif;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.45);
        }

        #yesBtn {
            background: linear-gradient(135deg, #4D2B8C 0%, #85409D 50%, #FFEF5F 100%);
            color: #1a0d2e;
        }

        #noBtn {
            background: linear-gradient(135deg, #4D2B8C 0%, #85409D 50%, #EEA727 100%);
            color: #FFEF5F;
        }

        button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 28px rgba(0, 0, 0, 0.55),
                0 0 18px rgba(255, 239, 95, 0.6);
        }

        button:active {
            transform: translateY(-1px) scale(1.0);
            box-shadow: 0 8px 18px rgba(0, 0, 0, 0.5),
                0 0 14px rgba(238, 167, 39, 0.7);
        }

        .hidden {
            display: none;
        }

        .fade-white-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            opacity: 0;
            pointer-events: none;
            transition: opacity 2s ease;
            z-index: 10000;
        }

        .fade-white-overlay.active {
            opacity: 1;
        }
    </style>
</head>

<body>

    <div id="quiz-container" class="container">
        <h1>For that ONE Woman</h1>
        <p id="special-text">You reign over my heart like a queen over her kingdom.</p>
        <p id="question">Will you accept this royal invitation, Yuva?</p>
        <div class="buttons">
            <button id="yesBtn">Yes</button>
            <button id="noBtn">No</button>
        </div>
    </div>

    <div id="success-message" class="container hidden">
        <h1>YaY!! Babe lets be together forever!!</h1>
        <p id="special-text">You just made this day unforgettable.</p>
        <p>You just made this day unforgettable.</p>
    </div>

    <script>
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const question = document.getElementById('question');
        const quizContainer = document.getElementById('quiz-container');
        const successMessage = document.getElementById('success-message');

        let clickCount = 0;
        const texts = ["Wait, really? ðŸ§", "Are you sure, my queen? ðŸ‘‘", "Think again! ðŸ¥º", "Catch me if you can! ðŸ˜"];

        noBtn.addEventListener('click', () => {
            clickCount++;
            if (clickCount <= 3) {
                noBtn.innerText = texts[clickCount - 1];
            }
            if (clickCount === 4) {
                question.innerText = "You're persistent! But you can't click No now!";
                moveButton();
            }
        });

        // Makes it jump as soon as the mouse gets close
        noBtn.addEventListener('mouseover', () => {
            if (clickCount >= 4) {
                moveButton();
            }
        });

        function moveButton() {
            const margin = 50; // Safety margin from edges
            const maxX = window.innerWidth - noBtn.offsetWidth - margin;
            const maxY = window.innerHeight - noBtn.offsetHeight - margin;

            const safeMaxX = Math.max(margin, maxX);
            const safeMaxY = Math.max(margin, maxY);

            const x = Math.max(margin, Math.floor(Math.random() * safeMaxX));
            const y = Math.max(margin, Math.floor(Math.random() * safeMaxY));

            noBtn.style.position = 'fixed';
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
            noBtn.style.margin = '0';
        }

        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.style.position = 'fixed';
            confetti.style.width = '8px';
            confetti.style.height = '8px';
            confetti.style.backgroundColor = ['#4D2B8C', '#85409D', '#EEA727', '#FFEF5F'][Math.floor(Math.random() * 4)];
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.top = '-10px';
            confetti.style.borderRadius = '50%';
            confetti.style.pointerEvents = 'none';
            confetti.style.zIndex = '9999';
            document.body.appendChild(confetti);

            confetti.animate([
                { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                { transform: `translateY(${window.innerHeight + 100}px) rotate(720deg)`, opacity: 0 }
            ], {
                duration: Math.random() * 2000 + 2000,
                easing: 'cubic-bezier(0.5, 0, 0.5, 1)'
            }).onfinish = () => confetti.remove();
        }

        yesBtn.addEventListener('click', () => {
            quizContainer.classList.add('hidden');
            successMessage.classList.remove('hidden');
            for (let i = 0; i < 40; i++) createConfetti();

            // Redirect to Story
            setTimeout(() => {
                const overlay = document.createElement('div');
                overlay.className = 'fade-white-overlay';
                document.body.appendChild(overlay);

                // Trigger Fade
                requestAnimationFrame(() => overlay.classList.add('active'));

                setTimeout(() => {
                    window.location.href = 'story.html';
                }, 2000);
            }, 3000);
        });
    </script>
</body>

</html>